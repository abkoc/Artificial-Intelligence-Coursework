; number of queens :4
(set-logic QF_UF)
(declare-const p11 Bool)
(declare-const p12 Bool)
(declare-const p13 Bool)
(declare-const p14 Bool)
(declare-const p21 Bool)
(declare-const p22 Bool)
(declare-const p23 Bool)
(declare-const p24 Bool)
(declare-const p31 Bool)
(declare-const p32 Bool)
(declare-const p33 Bool)
(declare-const p34 Bool)
(declare-const p41 Bool)
(declare-const p42 Bool)
(declare-const p43 Bool)
(declare-const p44 Bool)
(assert (and
; 1 queen in each row
  (or p11 p12 p13 p14)
  (or p21 p22 p23 p24)
  (or p31 p32 p33 p34)
  (or p41 p42 p43 p44)
; at most 1 queen in each row
  (or (not p11) (not p12))
  (or (not p11) (not p13))
  (or (not p11) (not p14))
  (or (not p12) (not p13))
  (or (not p12) (not p14))
  (or (not p13) (not p14))
  (or (not p21) (not p22))
  (or (not p21) (not p23))
  (or (not p21) (not p24))
  (or (not p22) (not p23))
  (or (not p22) (not p24))
  (or (not p23) (not p24))
  (or (not p31) (not p32))
  (or (not p31) (not p33))
  (or (not p31) (not p34))
  (or (not p32) (not p33))
  (or (not p32) (not p34))
  (or (not p33) (not p34))
  (or (not p41) (not p42))
  (or (not p41) (not p43))
  (or (not p41) (not p44))
  (or (not p42) (not p43))
  (or (not p42) (not p44))
  (or (not p43) (not p44))
; rows are okay

; 1 queen in each column
  (or p11 p21 p31 p41)
  (or p12 p22 p32 p42)
  (or p13 p23 p33 p43)
  (or p14 p24 p34 p44)
; at most 1 queen in each column
  (or (not p11) (not p21))
  (or (not p11) (not p31))
  (or (not p11) (not p41))
  (or (not p21) (not p31))
  (or (not p21) (not p41))
  (or (not p31) (not p41))
  (or (not p12) (not p22))
  (or (not p12) (not p32))
  (or (not p12) (not p42))
  (or (not p22) (not p32))
  (or (not p22) (not p42))
  (or (not p32) (not p42))
  (or (not p13) (not p23))
  (or (not p13) (not p33))
  (or (not p13) (not p43))
  (or (not p23) (not p33))
  (or (not p23) (not p43))
  (or (not p33) (not p43))
  (or (not p14) (not p24))
  (or (not p14) (not p34))
  (or (not p14) (not p44))
  (or (not p24) (not p34))
  (or (not p24) (not p44))
  (or (not p34) (not p44))
; columns are okay

; 1 and only 1 queen in each diagonal
  (or (not p11) (not p22))
  (or (not p11) (not p33))
  (or (not p11) (not p44))
  (or (not p12) (not p21))
  (or (not p12) (not p23))
  (or (not p12) (not p34))
  (or (not p13) (not p22))
  (or (not p13) (not p24))
  (or (not p13) (not p31))
  (or (not p14) (not p23))
  (or (not p14) (not p32))
  (or (not p14) (not p41))
  (or (not p21) (not p12))
  (or (not p21) (not p32))
  (or (not p21) (not p43))
  (or (not p22) (not p11))
  (or (not p22) (not p13))
  (or (not p22) (not p31))
  (or (not p22) (not p33))
  (or (not p22) (not p44))
  (or (not p23) (not p12))
  (or (not p23) (not p14))
  (or (not p23) (not p32))
  (or (not p23) (not p34))
  (or (not p23) (not p41))
  (or (not p24) (not p13))
  (or (not p24) (not p33))
  (or (not p24) (not p42))
  (or (not p31) (not p13))
  (or (not p31) (not p22))
  (or (not p31) (not p42))
  (or (not p32) (not p14))
  (or (not p32) (not p21))
  (or (not p32) (not p23))
  (or (not p32) (not p41))
  (or (not p32) (not p43))
  (or (not p33) (not p11))
  (or (not p33) (not p22))
  (or (not p33) (not p24))
  (or (not p33) (not p42))
  (or (not p33) (not p44))
  (or (not p34) (not p12))
  (or (not p34) (not p23))
  (or (not p34) (not p43))
  (or (not p41) (not p14))
  (or (not p41) (not p23))
  (or (not p41) (not p32))
  (or (not p42) (not p24))
  (or (not p42) (not p31))
  (or (not p42) (not p33))
  (or (not p43) (not p21))
  (or (not p43) (not p32))
  (or (not p43) (not p34))
  (or (not p44) (not p11))
  (or (not p44) (not p22))
  (or (not p44) (not p33))
; diagonals are okay

  ))
(check-sat)
(get-model)
(exit)